<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类型声明扩展 | Ryan Lin 的知识库</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.2257f275.css" as="style"><link rel="preload" href="/assets/js/app.5dd33da1.js" as="script"><link rel="preload" href="/assets/js/2.bffc4eaa.js" as="script"><link rel="preload" href="/assets/js/143.21726dc3.js" as="script"><link rel="prefetch" href="/assets/js/10.870f5dc0.js"><link rel="prefetch" href="/assets/js/100.7b5b4a95.js"><link rel="prefetch" href="/assets/js/101.421b0ac2.js"><link rel="prefetch" href="/assets/js/102.a38980c8.js"><link rel="prefetch" href="/assets/js/103.70f1c866.js"><link rel="prefetch" href="/assets/js/104.e2e5ecf5.js"><link rel="prefetch" href="/assets/js/105.811e1ad5.js"><link rel="prefetch" href="/assets/js/106.7cfaa290.js"><link rel="prefetch" href="/assets/js/107.e4be3fbb.js"><link rel="prefetch" href="/assets/js/108.4d49b79b.js"><link rel="prefetch" href="/assets/js/109.826ec2d5.js"><link rel="prefetch" href="/assets/js/11.bdfbc35d.js"><link rel="prefetch" href="/assets/js/110.da6bf348.js"><link rel="prefetch" href="/assets/js/111.97f70188.js"><link rel="prefetch" href="/assets/js/112.0f327158.js"><link rel="prefetch" href="/assets/js/113.089311f1.js"><link rel="prefetch" href="/assets/js/114.7d8b7c9a.js"><link rel="prefetch" href="/assets/js/115.8d50a48b.js"><link rel="prefetch" href="/assets/js/116.cfe881cd.js"><link rel="prefetch" href="/assets/js/117.82d65d4d.js"><link rel="prefetch" href="/assets/js/118.1ae016ef.js"><link rel="prefetch" href="/assets/js/119.b3b2d52d.js"><link rel="prefetch" href="/assets/js/12.0b3b3179.js"><link rel="prefetch" href="/assets/js/120.7fcc49a1.js"><link rel="prefetch" href="/assets/js/121.e600fcbe.js"><link rel="prefetch" href="/assets/js/122.fd5e613e.js"><link rel="prefetch" href="/assets/js/123.e0c1546c.js"><link rel="prefetch" href="/assets/js/124.e62ad441.js"><link rel="prefetch" href="/assets/js/125.a60c13b4.js"><link rel="prefetch" href="/assets/js/126.9e990ea1.js"><link rel="prefetch" href="/assets/js/127.b54e3b82.js"><link rel="prefetch" href="/assets/js/128.3fb6b56d.js"><link rel="prefetch" href="/assets/js/129.5001dcc2.js"><link rel="prefetch" href="/assets/js/13.80c562df.js"><link rel="prefetch" href="/assets/js/130.a9e2d1b7.js"><link rel="prefetch" href="/assets/js/131.bfdf1f70.js"><link rel="prefetch" href="/assets/js/132.5218e22c.js"><link rel="prefetch" href="/assets/js/133.cb171ec1.js"><link rel="prefetch" href="/assets/js/134.7a6e7332.js"><link rel="prefetch" href="/assets/js/135.784e4bab.js"><link rel="prefetch" href="/assets/js/136.1c23757a.js"><link rel="prefetch" href="/assets/js/137.3b1ec706.js"><link rel="prefetch" href="/assets/js/138.855f1c2a.js"><link rel="prefetch" href="/assets/js/139.c90851a3.js"><link rel="prefetch" href="/assets/js/14.acb9028c.js"><link rel="prefetch" href="/assets/js/140.2cff4fc4.js"><link rel="prefetch" href="/assets/js/141.ee58e250.js"><link rel="prefetch" href="/assets/js/142.bfb1dbf7.js"><link rel="prefetch" href="/assets/js/144.389f3dc8.js"><link rel="prefetch" href="/assets/js/145.add89c86.js"><link rel="prefetch" href="/assets/js/146.dcf7f250.js"><link rel="prefetch" href="/assets/js/147.30abbce2.js"><link rel="prefetch" href="/assets/js/148.80dc05ea.js"><link rel="prefetch" href="/assets/js/149.784dba4f.js"><link rel="prefetch" href="/assets/js/15.f2010fd2.js"><link rel="prefetch" href="/assets/js/150.21e0cc84.js"><link rel="prefetch" href="/assets/js/151.b5ca6141.js"><link rel="prefetch" href="/assets/js/152.15638869.js"><link rel="prefetch" href="/assets/js/153.af195f3c.js"><link rel="prefetch" href="/assets/js/154.8eb510c9.js"><link rel="prefetch" href="/assets/js/155.fd909e60.js"><link rel="prefetch" href="/assets/js/156.5cb98435.js"><link rel="prefetch" href="/assets/js/157.8a6df4f7.js"><link rel="prefetch" href="/assets/js/158.34b28d06.js"><link rel="prefetch" href="/assets/js/159.8879e485.js"><link rel="prefetch" href="/assets/js/16.343605fc.js"><link rel="prefetch" href="/assets/js/160.670bd93d.js"><link rel="prefetch" href="/assets/js/161.ce94a130.js"><link rel="prefetch" href="/assets/js/162.ef2f8e1d.js"><link rel="prefetch" href="/assets/js/163.2e925133.js"><link rel="prefetch" href="/assets/js/164.f06af007.js"><link rel="prefetch" href="/assets/js/165.5ca95b73.js"><link rel="prefetch" href="/assets/js/166.3ddb19d3.js"><link rel="prefetch" href="/assets/js/167.14958591.js"><link rel="prefetch" href="/assets/js/168.361fc960.js"><link rel="prefetch" href="/assets/js/169.cbf0929a.js"><link rel="prefetch" href="/assets/js/17.51faa4cc.js"><link rel="prefetch" href="/assets/js/170.8d98e721.js"><link rel="prefetch" href="/assets/js/171.78f2edb4.js"><link rel="prefetch" href="/assets/js/172.79b4b7a2.js"><link rel="prefetch" href="/assets/js/173.e252060f.js"><link rel="prefetch" href="/assets/js/174.4a84df1a.js"><link rel="prefetch" href="/assets/js/175.3f3ad04a.js"><link rel="prefetch" href="/assets/js/176.1b5511a7.js"><link rel="prefetch" href="/assets/js/177.edbcde74.js"><link rel="prefetch" href="/assets/js/18.f5710dc1.js"><link rel="prefetch" href="/assets/js/19.8da124bc.js"><link rel="prefetch" href="/assets/js/20.91af6434.js"><link rel="prefetch" href="/assets/js/21.18968b63.js"><link rel="prefetch" href="/assets/js/22.65a90243.js"><link rel="prefetch" href="/assets/js/23.5f72be9f.js"><link rel="prefetch" href="/assets/js/24.6771af23.js"><link rel="prefetch" href="/assets/js/25.6e233549.js"><link rel="prefetch" href="/assets/js/26.cd6e21b0.js"><link rel="prefetch" href="/assets/js/27.1ed02dde.js"><link rel="prefetch" href="/assets/js/28.35563828.js"><link rel="prefetch" href="/assets/js/29.081e3a6a.js"><link rel="prefetch" href="/assets/js/3.e786b54c.js"><link rel="prefetch" href="/assets/js/30.12c70eec.js"><link rel="prefetch" href="/assets/js/31.ffad65a3.js"><link rel="prefetch" href="/assets/js/32.46538c35.js"><link rel="prefetch" href="/assets/js/33.d37fc397.js"><link rel="prefetch" href="/assets/js/34.5224d1e9.js"><link rel="prefetch" href="/assets/js/35.03a9ce0f.js"><link rel="prefetch" href="/assets/js/36.d28870aa.js"><link rel="prefetch" href="/assets/js/37.a87884bc.js"><link rel="prefetch" href="/assets/js/38.c3342c9e.js"><link rel="prefetch" href="/assets/js/39.2335df59.js"><link rel="prefetch" href="/assets/js/4.bd730c56.js"><link rel="prefetch" href="/assets/js/40.abea8e3a.js"><link rel="prefetch" href="/assets/js/41.6e134625.js"><link rel="prefetch" href="/assets/js/42.40f88039.js"><link rel="prefetch" href="/assets/js/43.16571ff8.js"><link rel="prefetch" href="/assets/js/44.456cb65e.js"><link rel="prefetch" href="/assets/js/45.9fe05289.js"><link rel="prefetch" href="/assets/js/46.5849813f.js"><link rel="prefetch" href="/assets/js/47.51ef2a1d.js"><link rel="prefetch" href="/assets/js/48.9ecdc4bd.js"><link rel="prefetch" href="/assets/js/49.98f93378.js"><link rel="prefetch" href="/assets/js/5.6b60ba93.js"><link rel="prefetch" href="/assets/js/50.9aa5f2f6.js"><link rel="prefetch" href="/assets/js/51.2aa8cec6.js"><link rel="prefetch" href="/assets/js/52.c815ff1e.js"><link rel="prefetch" href="/assets/js/53.d7ccf15e.js"><link rel="prefetch" href="/assets/js/54.b690923e.js"><link rel="prefetch" href="/assets/js/55.2b4c377e.js"><link rel="prefetch" href="/assets/js/56.6b0f9e02.js"><link rel="prefetch" href="/assets/js/57.a0f83ca8.js"><link rel="prefetch" href="/assets/js/58.30731a9c.js"><link rel="prefetch" href="/assets/js/59.2395bfc6.js"><link rel="prefetch" href="/assets/js/6.e9b450da.js"><link rel="prefetch" href="/assets/js/60.0c0ca421.js"><link rel="prefetch" href="/assets/js/61.a2faf842.js"><link rel="prefetch" href="/assets/js/62.adf8e39e.js"><link rel="prefetch" href="/assets/js/63.a27bd613.js"><link rel="prefetch" href="/assets/js/64.94dac151.js"><link rel="prefetch" href="/assets/js/65.09b09746.js"><link rel="prefetch" href="/assets/js/66.51a4f648.js"><link rel="prefetch" href="/assets/js/67.ad4d01cb.js"><link rel="prefetch" href="/assets/js/68.210b5fec.js"><link rel="prefetch" href="/assets/js/69.0d338524.js"><link rel="prefetch" href="/assets/js/7.09fe4966.js"><link rel="prefetch" href="/assets/js/70.e0c73a22.js"><link rel="prefetch" href="/assets/js/71.e8e85b12.js"><link rel="prefetch" href="/assets/js/72.f041b008.js"><link rel="prefetch" href="/assets/js/73.125fb898.js"><link rel="prefetch" href="/assets/js/74.0df75098.js"><link rel="prefetch" href="/assets/js/75.e8fd2a19.js"><link rel="prefetch" href="/assets/js/76.cbae0e4b.js"><link rel="prefetch" href="/assets/js/77.5383c235.js"><link rel="prefetch" href="/assets/js/78.f6192123.js"><link rel="prefetch" href="/assets/js/79.49003bd1.js"><link rel="prefetch" href="/assets/js/8.0c82c132.js"><link rel="prefetch" href="/assets/js/80.11d69d10.js"><link rel="prefetch" href="/assets/js/81.3f204432.js"><link rel="prefetch" href="/assets/js/82.c03c5548.js"><link rel="prefetch" href="/assets/js/83.b24468bb.js"><link rel="prefetch" href="/assets/js/84.aeb945dd.js"><link rel="prefetch" href="/assets/js/85.9ea8a4ed.js"><link rel="prefetch" href="/assets/js/86.f7c226d3.js"><link rel="prefetch" href="/assets/js/87.1b3a548f.js"><link rel="prefetch" href="/assets/js/88.9a54dbc6.js"><link rel="prefetch" href="/assets/js/89.2f907505.js"><link rel="prefetch" href="/assets/js/9.95f4c5c2.js"><link rel="prefetch" href="/assets/js/90.03530653.js"><link rel="prefetch" href="/assets/js/91.27822bbf.js"><link rel="prefetch" href="/assets/js/92.613514fb.js"><link rel="prefetch" href="/assets/js/93.e06e0e69.js"><link rel="prefetch" href="/assets/js/94.c4a392f0.js"><link rel="prefetch" href="/assets/js/95.a80003aa.js"><link rel="prefetch" href="/assets/js/96.ac6481f9.js"><link rel="prefetch" href="/assets/js/97.305dfef5.js"><link rel="prefetch" href="/assets/js/98.ce4f0bd3.js"><link rel="prefetch" href="/assets/js/99.831c25bb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2257f275.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.jpg" alt="Ryan Lin 的知识库" class="logo"> <span class="site-name can-hide">Ryan Lin 的知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Typescript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/typescript/overview/overview.html" class="sidebar-link">概览</a></li><li><a href="/typescript/type/type.html" class="sidebar-link">基础类型</a></li><li><a href="/typescript/type-system-hierarchy/type-system-hierarchy.html" class="sidebar-link">类型系统层级</a></li><li><a href="/typescript/type-guard/type-guard.html" class="sidebar-link">类型守卫</a></li><li><a href="/typescript/type-declaration-extension/type-declaration-extension.html" aria-current="page" class="active sidebar-link">类型声明扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#声明文件" class="sidebar-link">声明文件</a></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#declare" class="sidebar-link">declare</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#声明全局变量" class="sidebar-link">声明全局变量</a></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#声明全局函数" class="sidebar-link">声明全局函数</a></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#声明全局类" class="sidebar-link">声明全局类</a></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#声明命名空间" class="sidebar-link">声明命名空间</a></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#声明模块" class="sidebar-link">声明模块</a></li></ul></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#通过声明文件扩展类型定义" class="sidebar-link">通过声明文件扩展类型定义</a></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header"><a href="/typescript/type-declaration-extension/type-declaration-extension.html#为第三方库创建声明文件" class="sidebar-link">为第三方库创建声明文件</a></li></ul></li><li><a href="/typescript/type-declaration-compatibility/type-declaration-compatibility.html" class="sidebar-link">类型兼容</a></li><li><a href="/typescript/statement/statement.html" class="sidebar-link">声明</a></li><li><a href="/typescript/interface/interface.html" class="sidebar-link">接口</a></li><li><a href="/typescript/class/class.html" class="sidebar-link">类</a></li><li><a href="/typescript/function/function.html" class="sidebar-link">函数</a></li><li><a href="/typescript/genericity/genericity.html" class="sidebar-link">泛型</a></li><li><a href="/typescript/enum/enum.html" class="sidebar-link">枚举</a></li><li><a href="/typescript/advanced-type/advanced-type.html" class="sidebar-link">高级类型</a></li><li><a href="/typescript/module/module.html" class="sidebar-link">模块</a></li><li><a href="/typescript/decorator/decorator.html" class="sidebar-link">装饰器</a></li><li><a href="/typescript/tsconfig/tsconfig.html" class="sidebar-link">tsconfig</a></li><li><a href="/typescript/example/example.html" class="sidebar-link">例子</a></li><li><a href="/typescript/tool/tool.html" class="sidebar-link">用法</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>动画</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>脚手架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>同构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>serverless</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>跨端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>移动端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>桌面端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Monorepo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Chrome</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>流程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>灰度</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>监控</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>部署</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>发布</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>调试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程范式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-patterns/origin" class="sidebar-heading clickable"><span>设计模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>文档管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中国近代史纲要</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>马克思主义基本原理概述</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="类型声明扩展"><a href="#类型声明扩展" class="header-anchor">#</a> 类型声明扩展</h1> <p>我们可以通过声明文件（.d.ts 文件）来为现有的 JavaScript 库提供类型定义，或者为现有的类型添加额外的属性和方法。</p> <h2 id="声明文件"><a href="#声明文件" class="header-anchor">#</a> 声明文件</h2> <p>在 TypeScript 中，声明文件是一种以 <code>.d.ts</code> 为扩展名的特殊文件，它不包含具体的实现，只包含类型声明。这些文件通常用来为已有的 JavaScript 库提供类型定义，使得我们可以在 TypeScript 代码中更安全、更方便地使用这些库。</p> <p>声明文件的主要内容是类型声明，包括变量、函数、类、接口等的类型定义。这些类型声明提供了一种描述 JavaScript 代码的结构和行为的方式，使得 TypeScript 编译器能够理解和检查 JavaScript 代码。</p> <p>例如，以下是一个简单的声明文件的例子：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// types.d.ts</span>
<span class="token keyword">declare</span> <span class="token keyword">var</span> foo<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span>baz<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在上面的声明文件中，我们声明了一个全局变量 foo 和一个全局函数 bar，并分别给它们提供了类型声明。</p> <h2 id="declare"><a href="#declare" class="header-anchor">#</a> declare</h2> <p>当我们在 TypeScript 中编写声明文件时，我们使用 declare 关键字来声明全局变量、函数、类、接口等类型。</p> <p>declare 关键字用于告诉 TypeScript 编译器某个标识符的类型，而不需要实际的实现代码。它用于在声明文件中描述 JavaScript 代码的类型。</p> <p>下面是一些常见的用法：</p> <h3 id="声明全局变量"><a href="#声明全局变量" class="header-anchor">#</a> 声明全局变量</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">const</span> myGlobal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个声明告诉 TypeScript 编译器，存在一个名为 myGlobal 的全局变量，它的类型是 string。</p> <h3 id="声明全局函数"><a href="#声明全局函数" class="header-anchor">#</a> 声明全局函数</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个声明告诉 TypeScript 编译器，存在一个名为 myFunction 的全局函数，它接受一个 number 类型的参数，并返回一个 string 类型的值。</p> <h3 id="声明全局类"><a href="#声明全局类" class="header-anchor">#</a> 声明全局类</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这个声明告诉 TypeScript 编译器，存在一个名为 MyClass 的全局类，它有一个接受 string 类型参数的构造函数，并且有一个返回 string 类型的 getName 方法。</p> <h3 id="声明命名空间"><a href="#声明命名空间" class="header-anchor">#</a> 声明命名空间</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">namespace</span> MyNamespace <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> myVariable<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这个声明告诉 TypeScript 编译器，存在一个名为 MyNamespace 的全局模块/命名空间，它包含一个名为 myVariable 的变量和一个名为 myFunction 的函数。</p> <p>通过使用 declare 关键字，我们可以在声明文件中描述出我们所需要的类型信息，以便 TypeScript 编译器进行类型检查和类型推断。</p> <p>需要注意的是，declare 关键字只用于类型声明，不包含具体的实现代码。在使用声明文件时，我们需要确保提供了实际的实现代码，以便程序在运行时可以访问到所声明的类型。</p> <h3 id="声明模块"><a href="#声明模块" class="header-anchor">#</a> 声明模块</h3> <p>当我们在声明文件中使用 declare module 时，我们可以定义一个模块，并在其中声明模块内部的类型。这样，其他文件在导入该模块时，就可以按照模块的名称来引用其中的类型。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'my-module'</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> myVariable<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在这个示例中，我们在 my-module 模块中声明了一个名为 myVariable 的变量和一个名为 myFunction 的函数，并通过 export 关键字将它们导出，使其在导入该模块时可见。</p> <h2 id="通过声明文件扩展类型定义"><a href="#通过声明文件扩展类型定义" class="header-anchor">#</a> 通过声明文件扩展类型定义</h2> <p>在某些情况下，我们可能需要为已有的类型添加额外的属性或方法。比如，我们可能在使用一个库时发现它缺少一些我们需要的类型定义，或者我们可能想要为一些内置类型（如 string 或 Array）添加一些自定义的方法。</p> <p>这时，我们可以通过在声明文件中使用“声明合并”（Declaration Merging）来扩展类型定义。声明合并是 TypeScript 的一项特性，它允许我们在多个位置声明同名的类型，然后 TypeScript 会将这些声明合并为一个类型。</p> <p>例如，假设我们想要为所有的数组添加一个 last 属性，该属性返回数组的最后一个元素。我们可以在声明文件中为 Array 类型添加一个新的声明：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// types.d.ts</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  last<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在上面的代码中，我们通过声明一个同名的 Array 接口来为 Array 类型添加一个新的 last 属性。这样，我们在 TypeScript 代码中使用数组时，就可以访问这个新的 last 属性：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> nums<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span>last<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h2> <p>虽然通过声明文件扩展类型定义可以让我们更灵活地使用类型，但也需要注意一些事项。</p> <p>首先，声明文件只提供类型信息，不包含实现。也就是说，如果我们为一个类型添加了新的属性或方法，我们还需要在实际的代码中提供这些属性或方法的实现。</p> <p>其次，尽管 TypeScript 允许我们为内置类型添加自定义的属性和方法，但这并不意味着这是一个好的做法。在很多情况下，过度修改内置类型可能会导致代码难以理解和维护。因此，我们应该谨慎使用这种特性，尽可能地遵循库或语言的原始设计。</p> <p>最后，当我们在一个项目中使用多个声明文件时，需要注意文件的加载顺序和作用域问题。因为声明文件中的类型声明会影响整个项目，所以我们需要确保所有的声明文件都被正确地加载，并且不会互相冲突。</p> <h2 id="为第三方库创建声明文件"><a href="#为第三方库创建声明文件" class="header-anchor">#</a> 为第三方库创建声明文件</h2> <p>当我们在使用第三方库时，通常会遇到缺乏类型声明的情况。我们可以通过创建一个声明文件来为该库添加类型声明，以便在 TypeScript 代码中使用该库的时候获得类型检查和自动完成的支持。</p> <p>以下是一个实际的示例，假设我们使用的是一个名为 axios 的库，它是一个流行的用于发起 HTTP 请求的库。假设 axios 库没有提供类型声明文件，我们可以创建一个声明文件 axios.d.ts 来为它添加类型声明：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'axios'</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AxiosRequestConfig</span> <span class="token punctuation">{</span>
    url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    method<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    data<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    headers<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AxiosResponse<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
    status<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    statusText<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    headers<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
    config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">request</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>AxiosResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token keyword">get</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> config<span class="token operator">?</span><span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>AxiosResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">post</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> data<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> config<span class="token operator">?</span><span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>AxiosResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
  <span class="token comment">// ... 其他请求方法的类型声明 ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>在这个声明文件中，我们使用 declare module 来声明一个名为 axios 的模块，并在其中定义了与 axios 相关的类型声明。</p> <p>我们定义了 AxiosRequestConfig 接口，它描述了发起请求时的配置选项；定义了 AxiosResponse 接口，它描述了请求返回的响应数据的结构。</p> <p>然后，我们通过 export 关键字将 request、get 和 post 等函数导出为模块的公共 API，以便在其他文件中使用这些函数。</p> <p>现在，在我们的 TypeScript 代码中，我们可以通过导入 axios 模块来使用这些类型声明，以及使用 axios 库的方法：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> axios<span class="token punctuation">,</span> <span class="token punctuation">{</span> AxiosResponse<span class="token punctuation">,</span> AxiosRequestConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config<span class="token operator">:</span> AxiosRequestConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">'https://api.example.com'</span><span class="token punctuation">,</span>
  method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token operator">:</span> AxiosResponse<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>通过这种方式，我们可以为第三方库创建声明文件，并在 TypeScript 代码中使用它们来获得类型检查和自动完成的支持，提高代码的可靠性和开发效率。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/26/2023, 11:24:03 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/typescript/type-guard/type-guard.html" class="prev">
        类型守卫
      </a></span> <span class="next"><a href="/typescript/type-declaration-compatibility/type-declaration-compatibility.html">
        类型兼容
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.5dd33da1.js" defer></script><script src="/assets/js/2.bffc4eaa.js" defer></script><script src="/assets/js/143.21726dc3.js" defer></script>
  </body>
</html>
