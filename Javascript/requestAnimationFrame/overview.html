<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>requestAnimationFrame | Ryan Lin 的知识库</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.e53c6d82.css" as="style"><link rel="preload" href="/assets/js/app.5eb6871a.js" as="script"><link rel="preload" href="/assets/js/2.bffc4eaa.js" as="script"><link rel="preload" href="/assets/js/73.fea5a024.js" as="script"><link rel="prefetch" href="/assets/js/10.870f5dc0.js"><link rel="prefetch" href="/assets/js/100.7b5b4a95.js"><link rel="prefetch" href="/assets/js/101.421b0ac2.js"><link rel="prefetch" href="/assets/js/102.a38980c8.js"><link rel="prefetch" href="/assets/js/103.09e97674.js"><link rel="prefetch" href="/assets/js/104.356e42e1.js"><link rel="prefetch" href="/assets/js/105.811e1ad5.js"><link rel="prefetch" href="/assets/js/106.7cfaa290.js"><link rel="prefetch" href="/assets/js/107.a3fe8ea5.js"><link rel="prefetch" href="/assets/js/108.e2d63d75.js"><link rel="prefetch" href="/assets/js/109.7402c10b.js"><link rel="prefetch" href="/assets/js/11.0db74234.js"><link rel="prefetch" href="/assets/js/110.075aaa9c.js"><link rel="prefetch" href="/assets/js/111.eb0adb42.js"><link rel="prefetch" href="/assets/js/112.0f327158.js"><link rel="prefetch" href="/assets/js/113.089311f1.js"><link rel="prefetch" href="/assets/js/114.7d8b7c9a.js"><link rel="prefetch" href="/assets/js/115.8d50a48b.js"><link rel="prefetch" href="/assets/js/116.cfe881cd.js"><link rel="prefetch" href="/assets/js/117.82d65d4d.js"><link rel="prefetch" href="/assets/js/118.90c61e0d.js"><link rel="prefetch" href="/assets/js/119.8e12d508.js"><link rel="prefetch" href="/assets/js/12.1d3d4ae1.js"><link rel="prefetch" href="/assets/js/120.4ccf2694.js"><link rel="prefetch" href="/assets/js/121.e461f91b.js"><link rel="prefetch" href="/assets/js/122.fd5e613e.js"><link rel="prefetch" href="/assets/js/123.e0c1546c.js"><link rel="prefetch" href="/assets/js/124.e62ad441.js"><link rel="prefetch" href="/assets/js/125.a60c13b4.js"><link rel="prefetch" href="/assets/js/126.9e990ea1.js"><link rel="prefetch" href="/assets/js/127.b54e3b82.js"><link rel="prefetch" href="/assets/js/128.3fb6b56d.js"><link rel="prefetch" href="/assets/js/129.5001dcc2.js"><link rel="prefetch" href="/assets/js/13.80c562df.js"><link rel="prefetch" href="/assets/js/130.0fa988ac.js"><link rel="prefetch" href="/assets/js/131.f7acda68.js"><link rel="prefetch" href="/assets/js/132.d98e0172.js"><link rel="prefetch" href="/assets/js/133.2671ca37.js"><link rel="prefetch" href="/assets/js/134.b5796cf0.js"><link rel="prefetch" href="/assets/js/135.34bef742.js"><link rel="prefetch" href="/assets/js/136.59417f2d.js"><link rel="prefetch" href="/assets/js/137.b67bb20d.js"><link rel="prefetch" href="/assets/js/138.cba3623f.js"><link rel="prefetch" href="/assets/js/139.d7379809.js"><link rel="prefetch" href="/assets/js/14.accbd06a.js"><link rel="prefetch" href="/assets/js/140.5cad6e17.js"><link rel="prefetch" href="/assets/js/141.10687669.js"><link rel="prefetch" href="/assets/js/142.1851e388.js"><link rel="prefetch" href="/assets/js/143.65b5ce9b.js"><link rel="prefetch" href="/assets/js/144.bdaaf5a4.js"><link rel="prefetch" href="/assets/js/145.add89c86.js"><link rel="prefetch" href="/assets/js/146.dcf7f250.js"><link rel="prefetch" href="/assets/js/147.30abbce2.js"><link rel="prefetch" href="/assets/js/148.b19531a0.js"><link rel="prefetch" href="/assets/js/149.560e51a9.js"><link rel="prefetch" href="/assets/js/15.05db5fd6.js"><link rel="prefetch" href="/assets/js/150.6f67fe90.js"><link rel="prefetch" href="/assets/js/151.3b5d8386.js"><link rel="prefetch" href="/assets/js/152.565b70fb.js"><link rel="prefetch" href="/assets/js/153.6b645e98.js"><link rel="prefetch" href="/assets/js/154.92adca73.js"><link rel="prefetch" href="/assets/js/155.fd909e60.js"><link rel="prefetch" href="/assets/js/156.fb0a6005.js"><link rel="prefetch" href="/assets/js/157.ae4d31b5.js"><link rel="prefetch" href="/assets/js/158.97466ee9.js"><link rel="prefetch" href="/assets/js/159.bd67efc5.js"><link rel="prefetch" href="/assets/js/16.0f99f870.js"><link rel="prefetch" href="/assets/js/160.5f1e8eba.js"><link rel="prefetch" href="/assets/js/161.c6b279d8.js"><link rel="prefetch" href="/assets/js/162.2ced747f.js"><link rel="prefetch" href="/assets/js/163.2e925133.js"><link rel="prefetch" href="/assets/js/164.f06af007.js"><link rel="prefetch" href="/assets/js/165.5ca95b73.js"><link rel="prefetch" href="/assets/js/166.3ddb19d3.js"><link rel="prefetch" href="/assets/js/167.14958591.js"><link rel="prefetch" href="/assets/js/168.361fc960.js"><link rel="prefetch" href="/assets/js/169.cbf0929a.js"><link rel="prefetch" href="/assets/js/17.ea4bc1fc.js"><link rel="prefetch" href="/assets/js/170.8d98e721.js"><link rel="prefetch" href="/assets/js/171.9b78f9fc.js"><link rel="prefetch" href="/assets/js/172.64db5933.js"><link rel="prefetch" href="/assets/js/173.538a14c3.js"><link rel="prefetch" href="/assets/js/174.deb630d7.js"><link rel="prefetch" href="/assets/js/175.72af7d01.js"><link rel="prefetch" href="/assets/js/176.ba06ad7c.js"><link rel="prefetch" href="/assets/js/18.3afa24ca.js"><link rel="prefetch" href="/assets/js/19.ddba3727.js"><link rel="prefetch" href="/assets/js/20.91af6434.js"><link rel="prefetch" href="/assets/js/21.18968b63.js"><link rel="prefetch" href="/assets/js/22.65a90243.js"><link rel="prefetch" href="/assets/js/23.5f72be9f.js"><link rel="prefetch" href="/assets/js/24.6771af23.js"><link rel="prefetch" href="/assets/js/25.027ae10a.js"><link rel="prefetch" href="/assets/js/26.cd6e21b0.js"><link rel="prefetch" href="/assets/js/27.fcd0a0f1.js"><link rel="prefetch" href="/assets/js/28.423173ee.js"><link rel="prefetch" href="/assets/js/29.48a88cf4.js"><link rel="prefetch" href="/assets/js/3.0f3b3e4d.js"><link rel="prefetch" href="/assets/js/30.2484da58.js"><link rel="prefetch" href="/assets/js/31.26de4795.js"><link rel="prefetch" href="/assets/js/32.482992d7.js"><link rel="prefetch" href="/assets/js/33.d2c3c0a7.js"><link rel="prefetch" href="/assets/js/34.5224d1e9.js"><link rel="prefetch" href="/assets/js/35.4e7cd327.js"><link rel="prefetch" href="/assets/js/36.d28870aa.js"><link rel="prefetch" href="/assets/js/37.3f6e0726.js"><link rel="prefetch" href="/assets/js/38.03b0c1ec.js"><link rel="prefetch" href="/assets/js/39.681039b2.js"><link rel="prefetch" href="/assets/js/4.9f8ced62.js"><link rel="prefetch" href="/assets/js/40.abea8e3a.js"><link rel="prefetch" href="/assets/js/41.34be347d.js"><link rel="prefetch" href="/assets/js/42.f5af721f.js"><link rel="prefetch" href="/assets/js/43.16571ff8.js"><link rel="prefetch" href="/assets/js/44.456cb65e.js"><link rel="prefetch" href="/assets/js/45.9fe05289.js"><link rel="prefetch" href="/assets/js/46.f3f007f3.js"><link rel="prefetch" href="/assets/js/47.5406eb70.js"><link rel="prefetch" href="/assets/js/48.9ecdc4bd.js"><link rel="prefetch" href="/assets/js/49.98f93378.js"><link rel="prefetch" href="/assets/js/5.f5a5859e.js"><link rel="prefetch" href="/assets/js/50.9aa5f2f6.js"><link rel="prefetch" href="/assets/js/51.9cced2f2.js"><link rel="prefetch" href="/assets/js/52.3ae443d4.js"><link rel="prefetch" href="/assets/js/53.d7ccf15e.js"><link rel="prefetch" href="/assets/js/54.b690923e.js"><link rel="prefetch" href="/assets/js/55.a1f16a12.js"><link rel="prefetch" href="/assets/js/56.14b93433.js"><link rel="prefetch" href="/assets/js/57.a0f83ca8.js"><link rel="prefetch" href="/assets/js/58.30731a9c.js"><link rel="prefetch" href="/assets/js/59.2395bfc6.js"><link rel="prefetch" href="/assets/js/6.e9b450da.js"><link rel="prefetch" href="/assets/js/60.6b5b1b31.js"><link rel="prefetch" href="/assets/js/61.6eead5c2.js"><link rel="prefetch" href="/assets/js/62.adf8e39e.js"><link rel="prefetch" href="/assets/js/63.a27bd613.js"><link rel="prefetch" href="/assets/js/64.94dac151.js"><link rel="prefetch" href="/assets/js/65.09b09746.js"><link rel="prefetch" href="/assets/js/66.51a4f648.js"><link rel="prefetch" href="/assets/js/67.ad4d01cb.js"><link rel="prefetch" href="/assets/js/68.f2260ba6.js"><link rel="prefetch" href="/assets/js/69.689747a3.js"><link rel="prefetch" href="/assets/js/7.09fe4966.js"><link rel="prefetch" href="/assets/js/70.e0c73a22.js"><link rel="prefetch" href="/assets/js/71.7fea112a.js"><link rel="prefetch" href="/assets/js/72.f041b008.js"><link rel="prefetch" href="/assets/js/74.0f87be33.js"><link rel="prefetch" href="/assets/js/75.e8fd2a19.js"><link rel="prefetch" href="/assets/js/76.cbae0e4b.js"><link rel="prefetch" href="/assets/js/77.5383c235.js"><link rel="prefetch" href="/assets/js/78.f6192123.js"><link rel="prefetch" href="/assets/js/79.49003bd1.js"><link rel="prefetch" href="/assets/js/8.0c82c132.js"><link rel="prefetch" href="/assets/js/80.11d69d10.js"><link rel="prefetch" href="/assets/js/81.3f204432.js"><link rel="prefetch" href="/assets/js/82.c03c5548.js"><link rel="prefetch" href="/assets/js/83.b24468bb.js"><link rel="prefetch" href="/assets/js/84.aeb945dd.js"><link rel="prefetch" href="/assets/js/85.9ea8a4ed.js"><link rel="prefetch" href="/assets/js/86.f7c226d3.js"><link rel="prefetch" href="/assets/js/87.1b3a548f.js"><link rel="prefetch" href="/assets/js/88.9a54dbc6.js"><link rel="prefetch" href="/assets/js/89.2f907505.js"><link rel="prefetch" href="/assets/js/9.81357d9e.js"><link rel="prefetch" href="/assets/js/90.03530653.js"><link rel="prefetch" href="/assets/js/91.27822bbf.js"><link rel="prefetch" href="/assets/js/92.613514fb.js"><link rel="prefetch" href="/assets/js/93.e06e0e69.js"><link rel="prefetch" href="/assets/js/94.c4a392f0.js"><link rel="prefetch" href="/assets/js/95.a80003aa.js"><link rel="prefetch" href="/assets/js/96.ac6481f9.js"><link rel="prefetch" href="/assets/js/97.305dfef5.js"><link rel="prefetch" href="/assets/js/98.ce4f0bd3.js"><link rel="prefetch" href="/assets/js/99.831c25bb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e53c6d82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.jpg" alt="Ryan Lin 的知识库" class="logo"> <span class="site-name can-hide">Ryan Lin 的知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Javascript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javascript/data-type/overview.html" class="sidebar-link">数据类型</a></li><li><a href="/javascript/array/array.html" class="sidebar-link">数组</a></li><li><a href="/javascript/object/object.html" class="sidebar-link">对象</a></li><li><a href="/javascript/function/function.html" class="sidebar-link">函数</a></li><li><a href="/javascript/typeof/overview.html" class="sidebar-link">typeof</a></li><li><a href="/javascript/this/this.html" class="sidebar-link">this</a></li><li><a href="/javascript/module/module.html" class="sidebar-link">模块化</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>异步</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/javascript/event-stream/event-stream.html" class="sidebar-link">事件流</a></li><li><a href="/javascript/scope/scope.html" class="sidebar-link">作用域</a></li><li><a href="/javascript/closure/closure.html" class="sidebar-link">闭包</a></li><li><a href="/javascript/prototype/prototype.html" class="sidebar-link">原型</a></li><li><a href="/javascript/object-oriented/object-oriented.html" class="sidebar-link">面向对象</a></li><li><a href="/javascript/class/class.html" class="sidebar-link">class</a></li><li><a href="/javascript/storage/storage.html" class="sidebar-link">存储</a></li><li><a href="/javascript/event-loop/overview.html" class="sidebar-link">事件循环</a></li><li><a href="/javascript/cross-page-communication/cross-page-communication.html" class="sidebar-link">跨页面通信</a></li><li><a href="/javascript/lifecycle/overview.html" class="sidebar-link">页面生命周期</a></li><li><a href="/javascript/proxy/proxy.html" class="sidebar-link">Proxy</a></li><li><a href="/javascript/date/date.html" class="sidebar-link">Date</a></li><li><a href="/javascript/decorator/decorator.html" class="sidebar-link">decorator</a></li><li><a href="/javascript/encode/encode.html" class="sidebar-link">编码</a></li><li><a href="/javascript/requestAnimationFrame/overview.html" aria-current="page" class="active sidebar-link">requestAnimationFrame</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#属性" class="sidebar-link">属性</a></li><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#应用场景" class="sidebar-link">应用场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#动画效果" class="sidebar-link">动画效果</a></li><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#游戏开发" class="sidebar-link">游戏开发</a></li><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#数据可视化" class="sidebar-link">数据可视化</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#示例" class="sidebar-link">示例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#实现平滑的滚动效果" class="sidebar-link">实现平滑的滚动效果</a></li><li class="sidebar-sub-header"><a href="/javascript/requestAnimationFrame/overview.html#实现粒子动画效果" class="sidebar-link">实现粒子动画效果</a></li></ul></li></ul></li><li><a href="/javascript/weak-map/overview.html" class="sidebar-link">WeakMap</a></li><li><a href="/javascript/miscellaneous/miscellaneous.html" class="sidebar-link">杂项</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>动画</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>脚手架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>同构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>serverless</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>跨端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>移动端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>桌面端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Monorepo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Chrome</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>引擎</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>流程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>灰度</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>监控</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>部署</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>发布</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>调试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程范式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-patterns/origin" class="sidebar-heading clickable"><span>设计模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>文档管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中国近代史纲要</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>马克思主义基本原理概述</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="requestanimationframe"><a href="#requestanimationframe" class="header-anchor">#</a> requestAnimationFrame</h1> <p>requestAnimationFrame是浏览器提供的一个用于优化动画和渲染的API。它基于浏览器的刷新率，调度回调函数的执行，以确保动画和渲染的流畅性和高性能。</p> <p>requestAnimationFrame 的调用是有频率限制的，在大多数浏览器里，这个频率是60Hz，也就是说，每一次刷新间隔为1000/60≈<code>16.7ms</code>。requestAnimationFrame 的执行时机是在<code>下一次重绘之前</code>，而不是立即执行。</p> <p>使用requestAnimationFrame，开发者可以在每个浏览器刷新帧之前请求执行一个函数。浏览器会在适当的时机调用这个函数，以保证动画和渲染的协调性。通过与浏览器的合作，requestAnimationFrame可以避免不必要的渲染操作，并确保动画的效果更加平滑。</p> <p>requestAnimationFrame在现代浏览器中得到广泛支持，并成为实现高性能动画和渲染的首选方式。</p> <h2 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h2> <p>requestAnimationFrame提供了一些属性，用于控制和管理动画和渲染的执行。下面是一些常用的属性：</p> <ul><li>callback：一个函数，表示要在下一次浏览器刷新帧之前执行的回调函数。</li> <li>id：一个整数，表示回调函数的唯一标识符。可以用于取消回调函数的执行。
通过这些属性，开发者可以精确地控制和管理动画和渲染的执行过程。</li></ul> <h2 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h2> <h3 id="动画效果"><a href="#动画效果" class="header-anchor">#</a> 动画效果</h3> <p>当需要实现平滑的动画效果时，requestAnimationFrame是一个理想的选择。通过使用requestAnimationFrame，可以在每个浏览器刷新帧之前更新动画的状态，并在合适的时机进行渲染。这样可以确保动画的流畅性，并减少不必要的渲染操作。例如，实现平滑的过渡效果、动态的图表展示等都可以使用requestAnimationFrame来实现。</p> <h3 id="游戏开发"><a href="#游戏开发" class="header-anchor">#</a> 游戏开发</h3> <p>在游戏开发中，高性能和流畅的渲染是至关重要的。requestAnimationFrame提供了一种高效的渲染方式，可以与游戏引擎配合使用，实现流畅的游戏画面和良好的用户体验。通过在每个浏览器刷新帧之前更新游戏的状态并进行渲染，可以实现高性能的游戏效果。例如，实时的射击游戏、跑酷游戏等都可以使用requestAnimationFrame来实现。</p> <h3 id="数据可视化"><a href="#数据可视化" class="header-anchor">#</a> 数据可视化</h3> <p>在数据可视化的场景中，展示大量的数据并实时更新是一项挑战。使用requestAnimationFrame，可以在每个浏览器刷新帧之前更新数据的可视化状态，并进行相应的渲染。这样可以实现高效的数据可视化，并保持良好的性能和交互性。例如，绘制实时图表、展示动态地图等都可以使用requestAnimationFrame来实现。</p> <h2 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h2> <h3 id="实现平滑的滚动效果"><a href="#实现平滑的滚动效果" class="header-anchor">#</a> 实现平滑的滚动效果</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">smoothScrollTo</span><span class="token punctuation">(</span><span class="token parameter">targetY<span class="token punctuation">,</span> duration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> startY <span class="token operator">=</span> window<span class="token punctuation">.</span>pageYOffset<span class="token punctuation">;</span>
  <span class="token keyword">const</span> distance <span class="token operator">=</span> targetY <span class="token operator">-</span> startY<span class="token punctuation">;</span>
  <span class="token keyword">const</span> startTime <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token parameter">currentTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> elapsedTime <span class="token operator">=</span> currentTime <span class="token operator">-</span> startTime<span class="token punctuation">;</span>
    <span class="token keyword">const</span> progress <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>elapsedTime <span class="token operator">/</span> duration<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> ease <span class="token operator">=</span> <span class="token function">easingFunction</span><span class="token punctuation">(</span>progress<span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> startY <span class="token operator">+</span> distance <span class="token operator">*</span> ease<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>elapsedTime <span class="token operator">&lt;</span> duration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">easingFunction</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> t <span class="token operator">*</span> t <span class="token operator">*</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用示例</span>
<span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#scrollButton'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">smoothScrollTo</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>在上述代码中，我们定义了一个smoothScrollTo函数，用于实现平滑的滚动效果。该函数接收目标位置targetY和滚动的持续时间duration作为参数。在函数内部，我们获取当前的滚动位置startY和目标位置与起始位置之间的距离distance。然后，我们使用performance.now()获取当前的时间戳startTime，并定义一个step函数用于更新滚动位置。在step函数中，我们根据时间的流逝计算出进度progress，并使用缓动函数easingFunction来调整进度。最后，我们使用</p> <p>requestAnimationFrame调度step函数的执行，并在滚动动画完成之前不断更新滚动位置。</p> <h3 id="实现粒子动画效果"><a href="#实现粒子动画效果" class="header-anchor">#</a> 实现粒子动画效果</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> particles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Particle</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> speedX<span class="token punctuation">,</span> speedY<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>speedX <span class="token operator">=</span> speedX<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>speedY <span class="token operator">=</span> speedY<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Particle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speedX<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speedY<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">&gt;</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speedX <span class="token operator">=</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>speedX<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">&gt;</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speedY <span class="token operator">=</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>speedY<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Particle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">createParticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token keyword">const</span> speedX <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> speedY <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> radius <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    particles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Particle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> speedX<span class="token punctuation">,</span> speedY<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">updateParticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  particles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">particle</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    particle<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">drawParticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>

  particles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">particle</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    particle<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>drawParticles<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用示例</span>
<span class="token function">createParticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">drawParticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span>updateParticles<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">getRandomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> letters <span class="token operator">=</span> <span class="token string">'0123456789ABCDEF'</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> color <span class="token operator">=</span> <span class="token string">'#'</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    color <span class="token operator">+=</span> letters<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><p>在上述代码中，我们定义了一个Particle构造函数，用于创建粒子对象。粒子对象包含位置坐标x和y、速度speedX和speedY、半径radius和颜色color等属性。我们还为Particle对象添加了update方法和draw方法，用于更新粒子的位置和绘制粒子的图形。</p> <p>我们还定义了createParticles函数，用于创建一定数量的粒子，并随机生成它们的初始位置、速度、半径和颜色。在drawParticles函数中，我们使用requestAnimationFrame调度drawParticles函数的执行，并在每一帧清空画布、更新粒子的位置和绘制粒子的图形。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/javascript/encode/encode.html" class="prev">
        编码
      </a></span> <span class="next"><a href="/javascript/weak-map/overview.html">
        WeakMap
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.5eb6871a.js" defer></script><script src="/assets/js/2.bffc4eaa.js" defer></script><script src="/assets/js/73.fea5a024.js" defer></script>
  </body>
</html>
