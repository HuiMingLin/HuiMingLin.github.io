(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{222:function(t,e,o){"use strict";o.r(e);var v=o(0),_=Object(v.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"存储"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#存储"}},[t._v("#")]),t._v(" 存储")]),t._v(" "),o("h2",{attrs:{id:"cookie，localstorage，sessionstorage，indexdb"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie，localstorage，sessionstorage，indexdb"}},[t._v("#")]),t._v(" cookie，localStorage，sessionStorage，indexDB")]),t._v(" "),o("p",[t._v("我们先来通过表格学习下这几种存储方式的区别")]),t._v(" "),o("table",[o("thead",[o("tr",[o("th",[t._v("特性")]),t._v(" "),o("th",[t._v("cookie")]),t._v(" "),o("th",[t._v("localStorage")]),t._v(" "),o("th",[t._v("sessionStorage")]),t._v(" "),o("th",[t._v("indexDB")])])]),t._v(" "),o("tbody",[o("tr",[o("td",[t._v("数据生命周期")]),t._v(" "),o("td",[t._v("一般由服务器生成，可以设置过期时间")]),t._v(" "),o("td",[t._v("除非被清理，否则一直存在")]),t._v(" "),o("td",[t._v("页面关闭就清理")]),t._v(" "),o("td",[t._v("除非被清理，否则一直存在")])]),t._v(" "),o("tr",[o("td",[t._v("数据存储大小")]),t._v(" "),o("td",[t._v("4K")]),t._v(" "),o("td",[t._v("5M")]),t._v(" "),o("td",[t._v("5M")]),t._v(" "),o("td",[t._v("无限")])]),t._v(" "),o("tr",[o("td",[t._v("与服务端通信")]),t._v(" "),o("td",[t._v("每次都会携带在 header 中，对于请求性能影响")]),t._v(" "),o("td",[t._v("不参与")]),t._v(" "),o("td",[t._v("不参与")]),t._v(" "),o("td",[t._v("不参与")])])])]),t._v(" "),o("p",[t._v("从上表可以看到，cookie 已经不建议用于存储。如果没有大量数据存储需求的话，可以使用 localStorage 和 sessionStorage 。\n对于不怎么改变的数据尽量使用 localStorage 存储，否则可以用 sessionStorage 存储。")]),t._v(" "),o("p",[t._v("对于 cookie 来说，我们还需要注意安全性。")]),t._v(" "),o("p",[t._v("| 属性 | 作用 |\n| value | 如果用于保存用户登录态，应该将该值加密，不能使用明文的用户标识 |\n| http-only | 不能通过 JS 访问 Cookie，减少 XSS 攻击 |\n| secure | 只能在协议为 HTTPS 的请求中携带 |\n| same-site | 规定浏览器不能在跨域请求中携带 Cookie，减少 CSRF 攻击 |")])])}),[],!1,null,null,null);e.default=_.exports}}]);